\chapter{Conclusiones y trabajos futuros}

Una vez finalizado el proyecto en sus fases de investigación, análisis e implementación, existen una gran cantidad de ideas y conclusiones a analizar detalladamente para poner estimar la calidad de los resultados obtenidos, y qué es lo que se podría esperar realizar como continuación del proyecto en investigaciones futuras.

En primer lugar, se ha logrado entrenar un modelo capaz de distinguir entre casos complejos de enfermedades cutáneas. Gracias a los resultados obtenidos, principalmente en la fase de clasificación binaria del modelo, se cumple el objetivo de poder facilitar a los dermatólogos la toma de decisiones.  Los usuarios que empleen el modelo en la aplicación pueden obtener una valoración aproximada de forma rápida y explicativa acerca de qué posible patología presentan, y se especifican cuáles son las otras potenciales opciones para el caso.

De esta forma, ha quedado en evidencia que el uso de los modelos de aprendizaje profundo es de gran utilidad en aplicaciones de ámbito médico, ya que ha sido posible realizar la clasificación de forma satisfactoria para un subconjunto de las enfermedades cutáneas más frecuentes con unos valores de precisión adecuados, dada la limitación en tiempo y potencia de la que se dispone. 

La existencia de datos abiertos  y públicos en la web han permitido la creación de un conjunto de datos robusto y representativo, pero las trabas y limitaciones encontradas a la hora de emplear otro tipo de datasets de acceso restringido dificultan la tarea de clasificación con datos de origen variado y actualizado. Esto ha provocado ciertos problemas de desbalanceo a la hora de entrenar los modelos, el cual ha debido ser solventado con técnicas de sobremuestreo y equilibrado de pérdidas mediante pesos, que han permitido obtener métricas de evaluación más prometedoras.

El proyecto nos ha permitido aplicar, de forma satisfactoria, métodos de optimización y cuantización de modelos para su uso en aplicaciones de dispositivos Android. Aunque el proceso a seguir no es trivial, las tendencias seguidas, como la fusión de capas, la reducción de la precisión numérica, y la reducción del tamaño de la imagen han permitido conseguir tiempos de inferencia razonables, inferiores al segundo en promedio.

 El camino de decisiones seguido ha sido complejo, ya que en primer lugar, se ha requerido un análisis exhaustivo de los modelos aplicables al problema que ofreciesen un rendimiento adecuado, pero además, que fuesen compatibles con el procedimiento de reducción. De esta forma, se consiguió reducir una arquitectura profunda preentrenada y compatible, permitiendo prescindir de cualquier tipo de apoyo mediante el uso de servidores externos, y aprovechando, en su lugar, las capacidades de cómputo del dispositivo móvil con el mínimo impacto en los resultados obtenidos.

Dicha minimización del impacto en los resultados se ha conseguido, en mayor medida, gracias al enfoque seguido a la hora de distinguir entre dos problemas distintos: la clasificación entre enfermedades cancerosas y no cancerosas, y en un segundo nivel, los subtipos de enfermedades dentro de cada clase. La pérdida de rendimiento hubiese sido superior en caso de utilizar un único modelo para la arquitectura, ya que hubiese requerido de una mayor profundidad, y habría dificultado el proceso de cuantización, donde potencialmente hubiese sido necesario producirse una poda del modelo, y el impacto en resultados habría sido mucho mayor al finalmente conseguido, que ha sido una pérdida de entorno al 1\%. 

Esta reducción propició cumplir el objetivo de reducir los costes de implementación de una herramienta para prognosis de cáncer de piel, ya que el uso de los smartphones para realizar este cómputo con una pérdida en prestaciones mínima ha permitido prescindir de dispositivos especializados, o servidores de alta potencia a los que establecer una conexión para obtener la evaluación del modelo. 

Por último, la inclusión de los modelos dentro de una aplicación en dispositivos Android permite una mayor accesibilidad a los potenciales usuarios de los modelos entrenados, facilitando su uso a través de una interfaz sencilla donde el proceso a realizar es completamente guiado y directo. Además, su completa implementación local, que no requiere el envío de datos a otros dispositivos externos, potencia el cuidado de la privacidad entre el usuario y la aplicación, aspecto positivo teniendo en cuenta la sensibilidad de las imágenes tomadas. Esto favorece al cumplimiento de los Objetivos de Desarrollo Sostenible\footnote{ODS: \url{https://www.un.org/sustainabledevelopment/es/objetivos-de-desarrollo-sostenible/}}, concretamente, en su sección 3 (salud y bienestar), ya que se ha creado como producto de salida una aplicación capaz de acelerar los prediagnósticos de cáncer de piel, con el objetivo de reducir el número de casos fatales y mejorar la salud y el bienestar.

En lo que respecta a posibles trabajos futuros, el campo es muy amplio y abierto, y se pueden realizar multitud de mejoras y nuevas experimentaciones que amplíen la funcionalidad de este proyecto.

En primer lugar, la utilización de un conjunto de datos de mayor tamaño y envergadura supone una gran ventaja en el entrenamiento y desarrollo del modelo. Aunque en este trabajo fue construido un novedoso conjunto de datos que englobaba varios de los principales conjuntos de datos, las limitaciones en tiempo y en memoria para su entrenamiento provocaron que finalmente sólo se utilizase un 50\% del mismo. Por tanto, un aprovechamiento de la totalidad de los mismos, sumado a la adición de nuevos datos que mejoren el estado de desequilibrio de las clases del conjunto es de gran interés.

En lo que respecta al preprocesado del conjunto de entrenamiento, un mejor filtrado de las imágenes para eliminar interferencias, como el vello,  pueden, es una propuesta atractiva que potencialmente mejoraría los resultados del modelo obtenido. Podemos encontrar un ejemplo de uso en \cite{9306830}, donde mediante la aplicación de una arquitectura encoder-decoder, es posible eliminar de forma prácticamente total el pelo de las imágenes. Esta metodología sería aplicable a nuestro problema sólo en la fase de entrenamiento, pero se trataría de un experimento interesante a realizar.

Por otro lado, existen técnicas de aumento de datos mediante el uso de GAN. Aunque en este proyecto se han empleado para la mejora de calidad de las imágenes, mediante el uso de ESRGAN, su aplicación para la generación sintética de contenido puede aumentar la calidad del entrenamiento y mejorar los resultados obtenidos.  Esta solución ha sido empleada para multitud de problemas del estado del arte, como la mostrada en \cite{ganskincancer}, donde se consigue un margen de mejora considerable en las 4 competiciones del ISIC Challenge.

Por último, la creación de un modelo generativo capaz de predecir la evolución de la lesión puede ser de gran interés, ya que existen multitud de casos donde la enfermedad inicialmente no muestra signos de ser cancerígena, y posteriormente, da lugar a un tumor maligno. Este modelo podría ser de gran ayuda para complementar la detección de aquellos casos frontera donde no existe con claridad una clase en la cual clasificarlos, basado en datos históricos de este tipo casos. Para ello, sería necesario un mayor volumen de datos.

A nivel personal, gracias a este proyecto, he logrado una gran profundización en los conocimientos relacionados con el cáncer de piel, su evolución y su diagnóstico mediante uso de aprendizaje profundo, desconocidos para mí hasta este momento. Aunque inicialmente pudiese parecer una tarea sencilla, la realización del proyecto ha permitido poner en valor su dificultad, y la gran utilidad que puede suponer el uso de aprendizaje profundo.

Me ha hecho poner en valor aún más la importancia del preprocesado de los datos, y su impacto en el rendimiento final del modelos, así como el proceso de selección, recorte y reetiquetado de las imágenes para su posterior uso.

También, me ha permitido profundizar en la cuantización de modelos para comprender en mayor detalle la complejidad real de los modelos que habitualmente empleamos para realizar tareas de clasificación y segmentación, ya que gracias a  la potencia de cómputo actual, millones de operaciones son realizadas para lograr dar una salida al modelo pasando desapercibido. Su efecto penalizador es aún más notable dispositivos móviles, y destaca la importancia de la optimización. Me ha permitido conocer desde técnicas simples, como la reducción de precisión, hasta procedimientos muchos más complejos, como la fusión de capas convolucionales, o la construcción de modelos reducidos basados en la modularización.

Adicionalmente, su inclusión dentro de una aplicación Android me ha permitido comprender en mayor detalle su funcionamiento y el ciclo de vida de la misma,  valorando los distintos métodos y herramientas aplicables. 


